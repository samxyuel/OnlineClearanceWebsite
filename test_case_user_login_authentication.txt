TEST CASE: User Login and Authentication System

ID: TC-AUTH-001
Type: Functional Testing
Target Description: User Login and Authentication with Role-Based Navigation and Dashboard Redirection
Priority: High

Preconditions:
1. The Online Clearance System is accessible and running properly
2. Test user accounts exist for each role type (Admin, School Administrator, Program Head, Regular Staff, Student, Faculty)
3. The login page is accessible at pages/auth/login.php
4. Database connection is established and user authentication system is functional

Steps and Expected Results:

Step 1: Navigate to the login page and verify the login interface elements are displayed correctly
Expected Results: The login page should display the goSTI header with the website title, the STI College Lucena logo prominently positioned, a login form containing username and password input fields with appropriate placeholders, and a functional login button. The username field should display the placeholder text "Student or Employee Number" to guide users on the expected input format.

Step 2: Verify the login form validation for empty fields
Expected Results: When attempting to submit the login form with empty username or password fields, the system should display appropriate validation messages indicating that both username and password are required. The form should not submit and should remain on the login page with clear error messaging.

Step 3: Test login with invalid credentials (non-existent username)
Expected Results: When entering a username that does not exist in the system along with any password, the system should display a login failure message stating "Invalid username or password" without revealing whether the username or password is incorrect. The password field should be cleared and focused for re-entry, and the user should remain on the login page.

Step 4: Test login with valid username but incorrect password
Expected Results: When entering a valid username with an incorrect password, the system should display the same generic error message "Invalid username or password" to maintain security by not revealing which credential is incorrect. The password field should be cleared and focused, and the user should remain on the login page.

Step 5: Test successful login with valid Admin credentials and verify dashboard redirection
Expected Results: When entering valid Admin credentials, the system should display a success message welcoming the user by name and indicating redirection to the dashboard. After a 2-second delay, the user should be automatically redirected to the Admin dashboard at pages/admin/dashboard.php. The sidebar should display Admin-specific navigation links including Dashboard, College Management, SHS Management, Manage Faculty, Manage Staff, Clearance Management, Manage Courses, Feedback, and Audit Trail in the main menu section.

Step 6: Test successful login with valid School Administrator credentials and verify dashboard redirection
Expected Results: When entering valid School Administrator credentials, the system should display a success message and redirect to the School Administrator dashboard at pages/school-administrator/dashboard.php. The sidebar should display School Administrator-specific navigation links including Dashboard, College Student Management, Senior High School Student Management, Faculty Management, and Audit Trail in the main menu section.

Step 7: Test successful login with valid Program Head credentials and verify dashboard redirection
Expected Results: When entering valid Program Head credentials, the system should display a success message and redirect to the Program Head dashboard at pages/program-head/dashboard.php. The sidebar should display Program Head-specific navigation links including Dashboard, College Student Management, Senior High School Student Management, Faculty Management, and Audit Trail in the main menu section.

Step 8: Test successful login with valid Regular Staff credentials and verify dashboard redirection
Expected Results: When entering valid Regular Staff credentials, the system should display a success message and redirect to the Regular Staff dashboard at pages/regular-staff/dashboard.php. The sidebar should display Regular Staff-specific navigation links including Dashboard, College Student Management, Senior High School Student Management, Faculty Management, and Audit Trail in the main menu section.

Step 9: Test successful login with valid Student credentials and verify dashboard redirection
Expected Results: When entering valid Student credentials, the system should display a success message and redirect to the unified end-user dashboard at pages/end-user/dashboard.php. The sidebar should display Student-specific navigation links including Dashboard and My Clearance in the main menu section, with Profile, Settings, and Logout in the account section.

Step 10: Test successful login with valid Faculty credentials and verify dashboard redirection
Expected Results: When entering valid Faculty credentials, the system should display a success message and redirect to the unified end-user dashboard at pages/end-user/dashboard.php. The sidebar should display Faculty-specific navigation links including Dashboard and My Clearance in the main menu section, with Profile, Settings, and Logout in the account section.

Step 11: Verify role-based sidebar navigation links are properly displayed and functional
Expected Results: Each user role should see only the navigation links appropriate to their role and permissions. Admin users should see all management options, School Administrators should see user management options but not system administration features, Program Heads should see department-specific management options, Regular Staff should see clearance-related management options, and Students/Faculty should see only their personal clearance-related options. All navigation links should be clickable and functional, directing users to the correct pages.

Step 12: Test login with special characters and SQL injection attempts
Expected Results: The system should properly sanitize input and prevent SQL injection attacks. Special characters in username or password fields should be handled securely without causing system errors or security vulnerabilities. Invalid input should result in appropriate error messages without exposing system information.

Step 13: Test login with very long username and password strings
Expected Results: The system should handle extremely long input strings gracefully, either by truncating them to appropriate lengths or displaying validation errors for inputs that exceed maximum allowed lengths. The system should not crash or become unresponsive when processing unusually long credentials.

Step 14: Test concurrent login attempts with the same credentials
Expected Results: Multiple simultaneous login attempts with the same valid credentials should be handled properly, with each successful login creating a separate session. The system should not prevent legitimate concurrent logins from the same user account, and each session should function independently.

Step 15: Verify session management and logout functionality after successful login
Expected Results: After successful login, the user session should be properly established with all necessary user information stored in the session variables. The logout functionality should properly terminate the session and redirect the user back to the login page, clearing all session data and preventing unauthorized access to protected pages.
